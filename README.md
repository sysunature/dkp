## 项目说明  
**项目背景**  
一个学院由多个专业(系别)组成，同一个专业有许多学生。同一个学院开设若干门公共或相同课程，但是不同专业因授课老师的评分标准不同导致学生成绩整体偏高或偏低，为了消除因不同专业评分标准的不同而导致的成绩差异，引入专业调整系数。  
* 某专业(Major)课程(Lecture)的调整系数=该专业（Major）内课程(Lecture)的平均分/该学院（College）课程（Lecture）的平均分  
* 某学生的课程(Lecture)成绩=该学生的课程(Lecture)的调整前成绩/该专业(Major)课程(Lecture)的调整系数  
* 若课程(Lecture)由多个子项成绩构成，则学生该课程(Lecture)的调整前成绩是所有子项成绩的平均值  
* 某学生所有课程的综合成绩=sum(每个课程的权重*该学生该课程的成绩)  
* 每门课程的权重按照学生是应届或非应届数值不同  

**项目设计**  
项目由3个模块构成，其中模块A以学生为中心，汇总学生的所有信息(所属院系、专业、学号、课程标记、届数标记等)，模块B利用模块A的输出计算调整系数，模块C以A的输出问输入，借助模块B的输出文件(调整系数)计算每个学生的综合成绩。  

---------------------------------------------------------------------------
**Module A**  
功能:以学生学号为中心，汇总所有信息   
*Map*  
1. Map读取记录，以学生号为key输出，Value按所读取的文件名称以一定结构的构成  
*Reduce*  
2. 汇总每个key对应的所有原始信息  
>2.1 输出key是接收到的key   
>2.2 输出value按考评年份、届数、应届历届标记(Y表示应届，N表示非应届)、院系专业排名组、院系编码、专业编码、成绩构成  
>2.3 其中成绩按每个人的所有成绩项按类别逐条构成,成绩按类别表示，综合考评类别为A，季度考核类别为B，转正定岗类别为C，统招评估类别为D,若某类别成绩存在多项，则各项成绩之间空白符分隔，类别与类别之间用#分隔  
>2.4 输出结果  
>000000000    2015	13	N	21800300113	218	218003#A	20144	88.000000	20151	90.200000	20152	87.314286	20143	91.400000#D	2015	75.000  
>999999999    2015	14	Y	21500200114	215	215002#A	20143	84.000000	20152	81.200000	20144	84.000000	20151	84.000000#B	20143	84.000	20144	84.000	20151	84.000	20152	84.800#C	2015	92.0  
>其中Map部分算法如下：  
>LA  学号	A 季度 成绩  
>LB  学号 	B 季度 成绩  
>LC  学号 	C 考试年份 类别 补考次数 成绩  
>LD  学号 	D 考试年份 成绩  
>LE  学号 	E 编码年份 届数 应届历届标记 院系专业排名组 院系编码 专业编码  

---------------------------------------------------------------------------
**Module B**  
根据子功能A的输出计算调整系数  
1. Key和Value设计  
>1.1 在Map中以院系编码为key，以专业编码+应届历届标记+成绩类别+成绩总和+条目数量为value。示例:<院系编码,专业编码 "Y"成绩类别 总成绩 条目数>  
>1.2 在Reduce中按照院系、专业、届数标记、成绩类型，计算调整系数  
>1.3 Reduce的输出key为院系编码+专业编码+应届历届标记+成绩类别，value为key对应的调整系数  

--------------------------------------------------------------------------
**Module C**  
根据A和B的结果计算最终成绩  
>1.考虑到Module B的输出结果文件不大，在Map函数的setup中直接读取该文件到HashMap中，供map函数查找调整系数  
>HashMap Key:专业编码 届数标记 成绩类别  
>HashMap Value:调整系数  
>2.在map函数，读取模块A的输出结果文件的每一行记录，然后根据获取到的调整系数计算每个人的实际成绩，所以不需要>reduce函数  
>3.编写Comparator类，根据院系编码、专业编码、院系专业排名组编码、综合成绩排序  
>4.(该步骤缺少)分离应届和非应届数据, 单独排名  
>5.程序结束  
